(window["webpackJsonpmaysam-marley-spoon"]=window["webpackJsonpmaysam-marley-spoon"]||[]).push([[0],{136:function(e,t,a){e.exports=a(291)},141:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=(a(141),a(120)),s=a(121),l=a(132),p=a(122),u=a(134),m=a(294),d=a(299),f=a(297),h=a(46),g=a(123),y=a.n(g),b=a(296),v=a(300),E=a(298),k=function(e){var t=e.cover,a=e.title,n=e.chef,c=e.tags,o=e.description;return r.a.createElement(b.a,{cover:t,title:r.a.createElement("div",null,r.a.createElement(v.a,{title:a,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},n&&r.a.createElement(v.a.Item,{label:"Chef"},n),c&&r.a.createElement(v.a.Item,null,c.map((function(e){var t=e.id,a=e.tag;return r.a.createElement(E.a,{color:"magenta",key:t},a)})))))},r.a.createElement(y.a,{source:o}))},w=a(126),O=a(295);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var x=function(e){var t=e.recipes,a=e.assets,n=e.selectRecipe,c=e.loadMore;return r.a.createElement(O.a,{grid:{gutter:16,column:4,xs:1,sm:1,md:2,lg:2,xl:3,xxl:4},loadMore:c,dataSource:Object.keys(t).sort((function(){return Math.random()-.5})).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e},t[e])})),renderItem:function(e){var t=e.photo&&a[e.photo.sys.id],c=t&&r.a.createElement("img",{alt:t.title,src:t.file.url});return r.a.createElement(O.a.Item,{onClick:function(){return n(e)}},r.a.createElement(b.a,{title:e.title,cover:c,bodyStyle:{display:"none"}}))}})},R=(a(290),m.a.Content),M=m.a.Header,P="7ac531648a1b5e1dab6c18b0979f822a5aad0fe5f1109829b8a197eb2be4b84c",S="https://cdn.contentful.com/spaces/kk2bw5ojx476/entries",A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,recipes:{},chefs:{},tags:{},assets:{}},a.loadRecipes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=a.state,n=t.chefs,r=t.tags,c=t.recipes,o=t.assets,i={"Content-Type":"application/json",Authorization:"Bearer "+P};fetch(S+"?skip="+e,{headers:i}).then((function(e){return e.json()})).then((function(e){e.includes&&e.includes.Asset.forEach((function(e){var t=e.sys.id,a=e.fields;o[t]=a})),e.items&&e.items.forEach((function(e){var t=e.sys,a=t.id,o=t.contentType,i=(t.type,e.fields);switch(o.sys.id){case"tag":r[a]=i.name;break;case"chef":n[a]=i.name;break;case"recipe":c[a]=i;break;default:console.warn("content type "+o.sys.id+" not handled!!!")}})),a.setState({chefs:n,tags:r,recipes:c,assets:o,total:e.total,skip:e.skip,limit:e.limit,loading:!1})})).catch((function(e){return console.error(e)}))},a.selectRecipe=function(e){a.setState({selectedRecipe:e})},a.onLoadMore=function(){var e=a.state,t=e.total,n=e.skip,r=e.limit;n+r<t&&a.setState({loading:!0},(function(){a.loadRecipes(n+r)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadRecipes()}},{key:"render",value:function(){var e=this,t=this.state,a=t.total,n=t.skip,c=t.limit,o=t.loading,i=t.recipes,s=t.assets,l=t.chefs,p=t.tags,u=t.selectedRecipe,g=n+c<a&&!o?r.a.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},r.a.createElement(d.a,{onClick:this.onLoadMore},"loading more")):null,y=u&&s[u.photo.sys.id],b=y&&r.a.createElement("img",{alt:y.title,src:y.file.url});return r.a.createElement(m.a,{className:"App"},r.a.createElement(M,{className:"App-header header"},r.a.createElement("span",null,"Marley Spoon")),r.a.createElement(m.a,{style:{padding:"0 24px 24px"}},r.a.createElement(R,{style:{background:"#fff",padding:24,margin:0,minHeight:280}},r.a.createElement(f.a,null,r.a.createElement(f.a.Item,{onClick:function(){return e.selectRecipe()}},"All Recipes"),u&&r.a.createElement(f.a.Item,null,u.title)),u&&r.a.createElement(k,{cover:b,title:u.title,tags:u.tags&&u.tags.map((function(e){var t=e.sys.id;return{id:t,tag:p[t]}})),chef:u.chef&&l[u.chef.sys.id],description:u.description})||i&&r.a.createElement(x,{loadMore:g,recipes:i,assets:s,selectRecipe:this.selectRecipe})||r.a.createElement(h.a,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[136,1,2]]]);
//# sourceMappingURL=main.963c73ed.chunk.js.map