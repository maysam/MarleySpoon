(window["webpackJsonpmaysam-rakuten-weather-dashboard"]=window["webpackJsonpmaysam-rakuten-weather-dashboard"]||[]).push([[0],{168:function(e,t,n){e.exports=n(348)},173:function(e,t,n){},228:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(7),o=n.n(r),c=(n(173),n(144)),s=n(145),l=n(162),d=n(146),m=n(163),u=n(349),p=n(26),f=n(355),h=n(351),g=n(350),v=n(353),y=n(354),w=n(352),E=function(e){var t=e.id,n=e.name,a=e.weather,r=void 0===a?[]:a,o=e.main,c=void 0===o?{}:o,s=e.sys,l=(void 0===s?{}:s).country,d=void 0===l?"loading":l,m=c.temp;return i.a.createElement(w.a,{key:t,title:"".concat(n," - ").concat(d)},i.a.createElement(w.a.Meta,{title:"".concat(m," celsius")}),r.map(function(e){var t=e.id,n=e.main,a=e.description,r=e.icon;return i.a.createElement(w.a.Meta,{key:t,title:n,description:a,avatar:i.a.createElement("img",{alt:r,src:"http://openweathermap.org/img/wn/"+r+"@2x.png"})})}))},b=(n(228),u.a.Content),k=u.a.Header,I="https://api.openweathermap.org/data/2.5/weather?units=metric&APPID=19c460e76527a267ee3fd93fa6ae9ccc",S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={settingsVisible:!1,cities:[{country_code:"fr",name:"Montpellier",id:2992166},{country_code:"nl",name:"rotterdom",id:2747891},{id:112931,name:"Tehran"},{id:2643743,name:"London",coord:{lat:51.5085,lon:-.1258},main:{temp:7,pressure:1012,humidity:81,temp_min:5,temp_max:8},dt:1485791400,wind:{speed:4.6,deg:90},sys:{country:"GB"},rain:null,snow:null,clouds:{all:90},weather:[{id:701,main:"Mist",description:"mist",icon:"50d"},{id:300,main:"Drizzle",description:"light intensity drizzle",icon:"09d"}]}]},n.updateWeather=function(){n.state.cities.forEach(function(e){void 0===e.weather&&fetch(I+"&id="+e.id).then(function(e){return e.json()}).then(function(t){var a=n.state.cities,i=a.findIndex(function(t){return t.id===e.id});a[i]=t,n.setState({cities:a})}).catch(function(e){return console.error(e)})})},n.add=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var a=n.state.cities;a.push(t),n.setState({cities:a},function(){return n.props.form.resetFields()}),console.log("Received values of form: ",t)}})},n.remove=function(e){var t=n.state.cities;n.setState({cities:t.filter(function(t){return t.id!==e})})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,n=this.state,a=n.cities,r=n.settingsVisible,o=[{title:"ID",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(t,n){return i.a.createElement(p.a,{onClick:function(){return e.remove(n.id)},type:"link"},"delete")}}];return this.updateWeather(),i.a.createElement(u.a,{className:"App"},i.a.createElement(k,{className:"App-header"},i.a.createElement("span",null,"Weather Widget"),i.a.createElement(p.a,{type:"primary",onClick:function(){return e.setState({settingsVisible:!0})}},"Settings")),i.a.createElement(b,null,a.map(function(e){return i.a.createElement(E,Object.assign({key:e.id},e))})),i.a.createElement(f.a,{visible:r,title:"Settings",footer:"",onCancel:function(){return e.setState({settingsVisible:!1})}},i.a.createElement(h.a,{bordered:!0,size:"small",pagination:{defaultPageSize:5,hideOnSinglePage:!0},dataSource:a,columns:o}),i.a.createElement(g.a,null),i.a.createElement(v.a,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.add},i.a.createElement(v.a.Item,{label:"ID"},t("id",{rules:[{required:!0,message:"Please enter openweathermap id!"},{message:"ID is already in the list!",validator:function(e,t,n){var i=parseInt(t);-1!==a.findIndex(function(e){return e.id===i})?n(!0):n()}}]})(i.a.createElement(y.a,null))),i.a.createElement(v.a.Item,{wrapperCol:{span:12,offset:5}},i.a.createElement(p.a,{type:"primary",htmlType:"submit"},"Add city")))))}}]),t}(a.Component),C=v.a.create({name:"coordinated"})(S);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[168,1,2]]]);
//# sourceMappingURL=main.edec37b7.chunk.js.map