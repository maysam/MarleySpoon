(window["webpackJsonpmaysam-rakuten-weather-dashboard"]=window["webpackJsonpmaysam-rakuten-weather-dashboard"]||[]).push([[0],{168:function(e,t,a){e.exports=a(348)},173:function(e,t,a){},228:function(e,t,a){},348:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(7),o=a.n(r),c=(a(173),a(144)),s=a(145),l=a(162),d=a(146),m=a(163),u=a(349),p=a(26),f=a(355),h=a(351),y=a(350),g=a(353),v=a(354),w=a(352),E=function(e){var t=e.id,a=e.name,n=e.weather,r=void 0===n?[]:n,o=e.main,c=void 0===o?{}:o,s=e.sys,l=(void 0===s?{}:s).country,d=void 0===l?"loading":l,m=c.temp;return i.a.createElement(w.a,{key:t,title:"".concat(a," - ").concat(d)},i.a.createElement(w.a.Meta,{title:"".concat(m," celsius")}),r.map(function(e){var t=e.id,a=e.main,n=e.description,r=e.icon;return i.a.createElement(w.a.Meta,{key:t,title:a,description:n,avatar:i.a.createElement("img",{alt:r,src:"http://openweathermap.org/img/wn/"+r+"@2x.png"})})}))},b=(a(228),u.a.Content),k=u.a.Header,I="https://api.openweathermap.org/data/2.5/weather?units=metric&APPID=19c460e76527a267ee3fd93fa6ae9ccc",S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={settingsVisible:!1,cities:[{country_code:"fr",name:"Montpellier",id:2992166},{country_code:"nl",name:"rotterdom",id:2747891},{id:112931,name:"Tehran"},{id:2643743,name:"London",coord:{lat:51.5085,lon:-.1258},main:{temp:7,pressure:1012,humidity:81,temp_min:5,temp_max:8},dt:1485791400,wind:{speed:4.6,deg:90},sys:{country:"GB"},rain:null,snow:null,clouds:{all:90},weather:[{id:701,main:"Mist",description:"mist",icon:"50d"},{id:300,main:"Drizzle",description:"light intensity drizzle",icon:"09d"}]}]},a.updateWeather=function(){a.state.cities.forEach(function(e){void 0===e.weather&&fetch(I+"&id="+e.id).then(function(e){return e.json()}).then(function(t){var n=a.state.cities,i=n.findIndex(function(t){return t.id===e.id});n[i]=t,a.setState({cities:n})}).catch(function(e){return console.error(e)})})},a.add=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n=a.state.cities;n.push(t),a.setState({cities:n},function(){return a.props.form.resetFields()})}})},a.remove=function(e){var t=a.state.cities;a.setState({cities:t.filter(function(t){return t.id!==e})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.cities,r=a.settingsVisible,o=[{title:"ID",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(t,a){return i.a.createElement(p.a,{onClick:function(){return e.remove(a.id)},type:"link"},"delete")}}];return this.updateWeather(),i.a.createElement(u.a,{className:"App"},i.a.createElement(k,{className:"App-header"},i.a.createElement("span",null,"Weather Widget"),i.a.createElement(p.a,{type:"primary",onClick:function(){return e.setState({settingsVisible:!0})}},"Settings")),i.a.createElement(b,null,n.map(function(e){return i.a.createElement(E,Object.assign({key:e.id},e))})),i.a.createElement(f.a,{visible:r,title:"Settings",footer:"",onCancel:function(){return e.setState({settingsVisible:!1})}},i.a.createElement(h.a,{bordered:!0,size:"small",pagination:{defaultPageSize:5,hideOnSinglePage:!0},dataSource:n,columns:o}),i.a.createElement(y.a,null),i.a.createElement(g.a,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.add},i.a.createElement(g.a.Item,{label:"ID"},t("id",{rules:[{required:!0,message:"Please enter openweathermap id!"},{message:"ID is already in the list!",validator:function(e,t,a){var i=parseInt(t);-1!==n.findIndex(function(e){return e.id===i})?a(!0):a()}}]})(i.a.createElement(v.a,{placeholder:"2988507"}))),i.a.createElement(g.a.Item,{wrapperCol:{span:12,offset:5}},i.a.createElement(p.a,{type:"primary",htmlType:"submit"},"Add city")))))}}]),t}(n.Component),C=g.a.create({name:"coordinated"})(S);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[168,1,2]]]);
//# sourceMappingURL=main.30ab2480.chunk.js.map